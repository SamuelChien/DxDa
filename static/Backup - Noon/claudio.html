<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Proficiency scores</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">	
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.css">	
	
	<script type="text/javascript" language="javascript" src="//code.jquery.com/jquery-1.12.4.js"></script>
	<script type="text/javascript" language="javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.js"></script>
	
	<script type="text/javascript">
		function getParameterByName(name, url) {
			if (!url) url = window.location.href;
			name = name.replace(/[\[\]]/g, "\\$&");
			var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
				results = regex.exec(url);
			if (!results) return null;
			if (!results[2]) return '';
			return decodeURIComponent(results[2].replace(/\+/g, " "));
		}

	</script>
	
  </head>
  <body>
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Hack 2017</a>
        </div>
      </div>
    </nav>

	 <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
		    <li>&nbsp;</li>
		    <li>&nbsp;</li>
		    <li>&nbsp;</li>
          </ul>
		  
        </div>
	  </div>
	  
	 <div class="container-fluid">
      <div class="row">
 	
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
			<h2><div style="display: inline"  id="Alias"></div> Me Page</h2>
			Your PUID is <div style="display: inline" id="UserId"></div><br/>
			Your Word proficiency  is <div id="Word" style="display: inline"></div> and rank in MS is <div id="WordRank" style="display: inline"></div>%<br/>
			Your Excel proficiency  is <div id="Excel" style="display: inline"></div> and rank in MS is <div id="ExcelRank" style="display: inline"></div>%<br/>
			Your PowerPoint proficiency  is <div id="PowerPoint" style="display: inline"></div> and rank in MS is <div id="PowerPointRank" style="display: inline"></div>%<br/>
			<hr/>
		  <div id="chart1">
			<svg></svg>
		  </div>        
        </div>
		
      </div>
    </div>
	<script type="text/javascript" language="javascript">
		$(document).ready(function() {
			var alias = getParameterByName("alias");
			if (alias==null) 
			{
				alert("missing alias parameter");
				return;
			}
			var url = "".concat("http://hs-spades-01/table/UserProficiencyScores/Alias/", alias, "/");
			$.getJSON( url, function( data ) {			
			  $("#UserId").html(data[0].UserId)
			  $("#Alias").html(data[0].Alias)
			  $("#Word").html(data[0].WordBadge)
			  $("#Excel").html(data[0].ExcelBadge)
			  $("#PowerPoint").html(data[0].PowerPointBadge)
			  $("#WordRank").html((parseFloat(data[0].WordRank)*100).toFixed(0))
			  $("#ExcelRank").html((parseFloat(data[0].ExcelRank)*100).toFixed(0))
			  $("#PowerPointRank").html((parseFloat(data[0].PowerPointRank)*100).toFixed(0))
			});		
		});
	
	</script>

</body>
</html>	